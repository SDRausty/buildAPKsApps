<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

  <title>agetty(8) — Linux manual pages</title>
  <link rel="stylesheet" href="../stylesheet/manpages.css" type="text/css" />
  
  <link rel="home" href="../index.html" title="agetty(8) — Linux manual pages" />
  <script type="text/javascript" src="../stylesheet/manpages.js" xml:space="preserve">
</script>
  <link rel="icon" href="../stylesheet/icon.gif" type="image/gif" />
</head>

<body onload="javascript:init()">
  

  <div class="refentry" title="agetty(8) — Linux manual pages">
    <a id="agetty.8" name="agetty.8" shape="rect"> </a>

    <div class="titlepage"> </div>

    <div class="refnamediv">
      <h2>Name</h2>

      <p>agetty — alternative Linux getty</p>
    </div>

    <div class="refsynopsisdiv" title="Synopsis">
      <h2>Synopsis</h2>

      <div class="cmdsynopsis">
        <p><code class="command">agetty</code> [<code class="option">−c8ihLmnsUw</code>] [ <code class="option">−f</code> issue_file ] [ <code class="option">−l</code> login_program ] [ <code class="option">−I</code> init ] [ <code class="option">−t</code> timeout ] [ <code class="option">−H</code> login_host ] port baud_rate,...
        [term]</p>
      </div>
    </div>

    <div class="refsect1" title="DESCRIPTION">
      <a id="agetty-8_sect1" name="agetty-8_sect1" shape="rect"> </a>

      <h2>DESCRIPTION</h2>

      <p><span class="command"><strong>agetty</strong></span> opens
      a tty port, prompts for a login name and invokes the
      /bin/login command. It is normally invoked by <em class="replaceable"><code>init(8)</code></em>.</p>

      <p><span class="command"><strong>agetty</strong></span> has
      several <em class="replaceable"><code>non-standard</code></em> features that
      are useful for hard-wired and for dial-in lines:</p>

      <div class="itemizedlist">
        <ul class="itemizedlist" type="disc">
          <li class="listitem">
            <p>Adapts the tty settings to parity bits and to erase,
            kill, end-of-line and uppercase characters when it
            reads a login name. The program can handle 7-bit
            characters with even, odd, none or space parity, and
            8-bit characters with no parity. The following special
            characters are recognized: @ and Control-U (kill); #,
            DEL and back space (erase); carriage return and line
            feed (end of line).</p>
          </li>

          <li class="listitem">
            <p>Optionally deduces the baud rate from the CONNECT
            messages produced by Hayes(tm)-compatible modems.</p>
          </li>

          <li class="listitem">
            <p>Optionally does not hang up when it is given an
            already opened line (useful for call-back
            applications).</p>
          </li>

          <li class="listitem">
            <p>Optionally does not display the contents of the
            <code class="filename">/etc/issue</code> file.</p>
          </li>

          <li class="listitem">
            <p>Optionally displays an alternative issue file
            instead of <code class="filename">/etc/issue</code>.</p>
          </li>

          <li class="listitem">
            <p>Optionally does not ask for a login name.</p>
          </li>

          <li class="listitem">
            <p>Optionally invokes a non-standard login program
            instead of <code class="filename">/bin/login</code>.</p>
          </li>

          <li class="listitem">
            <p>Optionally turns on hard-ware flow control</p>
          </li>

          <li class="listitem">
            <p>Optionally forces the line to be local with no need
            for carrier detect.</p>
          </li>
        </ul>
      </div>

      <p>This program does not use the <code class="filename">/etc/gettydefs</code> (System V) or <code class="filename">/etc/gettytab</code> (SunOS 4) files.</p>
    </div>

    <div class="refsect1" title="ARGUMENTS">
      <a id="agetty-8_sect2" name="agetty-8_sect2" shape="rect"> </a>

      <h2>ARGUMENTS</h2>

      <div class="variablelist">
        <dl>
          <dt><span class="term"><em class="parameter"><code>port</code></em></span></dt>

          <dd>
            <p>A path name relative to the <code class="filename">/dev</code> directory. If a "-" is
            specified, <span class="command"><strong>agetty</strong></span> assumes that
            its standard input is already connected to a tty port
            and that a connection to a remote user has already been
            established.</p>

            <p>Under System V, a "-" <em class="parameter"><code>port</code></em> argument should be
            preceded by a "--".</p>
          </dd>

          <dt><span class="term">baud_rate,...</span></dt>

          <dd>
            <p>A comma-separated list of one or more baud rates.
            Each time <span class="command"><strong>agetty</strong></span> receives a
            BREAK character it advances through the list, which is
            treated as if it were circular.</p>

            <p>Baud rates should be specified in descending order,
            so that the null character (Ctrl-@) can also be used
            for baud rate switching.</p>
          </dd>

          <dt><span class="term"><em class="parameter"><code>term</code></em></span></dt>

          <dd>
            <p>The value to be used for the TERM environment
            variable. This overrides whatever init(8) may have set,
            and is inherited by login and the shell.</p>
          </dd>
        </dl>
      </div>
    </div>

    <div class="refsect1" title="OPTIONS">
      <a id="agetty-8_sect3" name="agetty-8_sect3" shape="rect"> </a>

      <h2>OPTIONS</h2>

      <div class="variablelist">
        <dl>
          <dt><span class="term"><code class="option">−c</code></span></dt>

          <dd>
            <p>Don't reset terminal cflags (control modes). See
            <em class="replaceable"><code>termios(3)</code></em>
            for more details.</p>
          </dd>

          <dt><span class="term"><span class="emphasis"><em>−8</em></span></span></dt>

          <dd>
            <p>Assume that the tty is 8-bit clean, hence disable
            parity detection.</p>
          </dd>

          <dt><span class="term"><code class="option">−h</code></span></dt>

          <dd>
            <p>Enable hardware (RTS/CTS) flow control. It is left
            up to the application to disable software (XON/XOFF)
            flow protocol where appropriate.</p>
          </dd>

          <dt><span class="term"><code class="option">−i</code></span></dt>

          <dd>
            <p>Do not display the contents of <code class="filename">/etc/issue</code> (or other) before writing
            the login prompt. Terminals or communications hardware
            may become confused when receiving lots of text at the
            wrong baud rate; dial-up scripts may fail if the login
            prompt is preceded by too much text.</p>
          </dd>

          <dt><span class="term"><code class="option">−f
          <em class="parameter"><code>issue_file</code></em></code></span></dt>

          <dd>
            <p>Display the contents of <em class="parameter"><code>issue_file</code></em> instead of
            <code class="filename">/etc/issue</code>. This allows
            custom messages to be displayed on different terminals.
            The −i option will override this option.</p>
          </dd>

          <dt><span class="term"><code class="option">−I
          <em class="parameter"><code>initstring</code></em></code></span></dt>

          <dd>
            <p>Set an initial string to be sent to the tty or modem
            before sending anything else. This may be used to
            initialize a modem. Non printable characters may be
            sent by writing their octal code preceded by a
            backslash (\). For example to send a linefeed character
            (ASCII 10, octal 012) write \012.</p>
          </dd>
        </dl>
      </div>

      <div class="variablelist">
        <dl>
          <dt><span class="term"><code class="option">−l
          <em class="parameter"><code>login_program</code></em></code></span></dt>

          <dd>
            <p>Invoke the specified <em class="parameter"><code>login_program</code></em> instead of
            /bin/login. This allows the use of a non-standard login
            program (for example, one that asks for a dial-up
            password or that uses a different password file).</p>
          </dd>

          <dt><span class="term"><code class="option">−H
          <em class="parameter"><code>login_host</code></em></code></span></dt>

          <dd>
            <p>Write the specified <em class="parameter"><code>login_host</code></em> into the utmp
            file. (Normally, no login host is given, since
            <span class="command"><strong>agetty</strong></span> is
            used for local hardwired connections and consoles.
            However, this option can be useful for identifying
            terminal concentrators and the like.</p>
          </dd>

          <dt><span class="term"><code class="option">−m</code></span></dt>

          <dd>
            <p>Try to extract the baud rate the CONNECT status
            message produced by Hayes(tm)−compatible modems.
            These status messages are of the form:
            "&lt;junk&gt;&lt;speed&gt;&lt;junk&gt;". <span class="command"><strong>agetty</strong></span> assumes that
            the modem emits its status message at the same speed as
            specified with (the first) <span class="command"><strong>baud_rate</strong></span> value on
            the command line.</p>

            <p>Since the <code class="option">−m</code>
            feature may fail on heavily-loaded systems, you still
            should enable BREAK processing by enumerating all
            expected baud rates on the command line.</p>
          </dd>

          <dt><span class="term"><code class="option">−n</code></span></dt>

          <dd>
            <p>Do not prompt the user for a login name. This can be
            used in connection with −l option to invoke a
            non-standard login process such as a BBS system. Note
            that with the −n option, <span class="command"><strong>agetty</strong></span> gets no input
            from user who logs in and therefore won't be able to
            figure out parity, character size, and newline
            processing of the connection. It defaults to space
            parity, 7 bit characters, and ASCII CR (13) end-of-line
            character. Beware that the program that <span class="command"><strong>agetty</strong></span> starts
            (usually /bin/login) is run as root.</p>
          </dd>

          <dt><span class="term"><code class="option">−t
          <em class="parameter"><code>timeout</code></em></code></span></dt>

          <dd>
            <p>Terminate if no user name could be read within
            <em class="parameter"><code>timeout</code></em>
            seconds. This option should probably not be used with
            hard-wired lines.</p>
          </dd>

          <dt><span class="term"><code class="option">−L</code></span></dt>

          <dd>
            <p>Force the line to be a local line with no need for
            carrier detect. This can be useful when you have a
            locally attached terminal where the serial line does
            not set the carrier detect signal.</p>
          </dd>

          <dt><span class="term"><code class="option">−s</code></span></dt>

          <dd>
            <p>Try to keep the existing baud rate. The baud rates
            from the command line are used when agetty receives a
            BREAK character.</p>
          </dd>

          <dt><span class="term"><code class="option">−U</code></span></dt>

          <dd>
            <p>Turn on support for detecting an uppercase only
            terminal. This setting will detect a login name
            containing only capitals as indicating an uppercase
            only terminal and turn on some upper to lower case
            conversions. Note that this has no support for any
            unicode characters.</p>
          </dd>

          <dt><span class="term"><code class="option">−w</code></span></dt>

          <dd>
            <p>Wait for the user or the modem to send a
            carriage-return or a linefeed character before sending
            the <code class="filename">/etc/issue</code> (or other)
            file and the login prompt. Very useful in connection
            with the −I option.</p>
          </dd>
        </dl>
      </div>
    </div>

    <div class="refsect1" title="EXAMPLES">
      <a id="agetty-8_sect4" name="agetty-8_sect4" shape="rect"> </a>

      <h2>EXAMPLES</h2>

      <p>This section shows examples for the process field of an
      entry in the <code class="filename">/etc/inittab</code> file.
      You'll have to prepend appropriate values for the other
      fields. See <em class="replaceable"><code>inittab(5)</code></em> for more
      details.</p>

      <p>For a hard-wired line or a console tty:</p>

      <div class="blockquote">
        <blockquote class="blockquote">
          <div class="informalexample">
            <pre class="programlisting" xml:space="preserve">
/sbin/agetty 9600 ttyS1
</pre>
          </div>
        </blockquote>
      </div>

      <p>For a directly connected terminal without proper carriage
      detect wiring: (try this if your terminal just sleeps instead
      of giving you a password: prompt.)</p>

      <div class="blockquote">
        <blockquote class="blockquote">
          <div class="informalexample">
            <pre class="programlisting" xml:space="preserve">
/sbin/agetty −L 9600 ttyS1 vt100
</pre>
          </div>
        </blockquote>
      </div>

      <p>For a old style dial-in line with a 9600/2400/1200 baud
      modem:</p>

      <div class="blockquote">
        <blockquote class="blockquote">
          <div class="informalexample">
            <pre class="programlisting" xml:space="preserve">
/sbin/agetty −mt60 ttyS1 9600,2400,1200
</pre>
          </div>
        </blockquote>
      </div>

      <p>For a Hayes modem with a fixed 115200 bps interface to the
      machine: (the example init string turns off modem echo and
      result codes, makes modem/computer DCD track modem/modem DCD,
      makes a DTR drop cause a dis-connection and turn on
      auto-answer after 1 ring.)</p>

      <div class="blockquote">
        <blockquote class="blockquote">
          <div class="informalexample">
            <pre class="programlisting" xml:space="preserve">
/sbin/agetty −w −I 'ATE0Q1&amp;D2&amp;C1S0=1\015' 115200 ttyS1
</pre>
          </div>
        </blockquote>
      </div>
    </div>

    <div class="refsect1" title="ISSUE ESCAPES">
      <a id="agetty-8_sect5" name="agetty-8_sect5" shape="rect"> </a>

      <h2>ISSUE ESCAPES</h2>

      <p>The issue-file (<code class="filename">/etc/issue</code>
      or the file set with the −f option) may contain certain
      escape codes to display the system name, date and time etc.
      All escape codes consist of a backslash (\) immediately
      followed by one of the letters explained below.</p>

      <div class="variablelist">
        <dl>
          <dt><span class="term"><code class="literal">b</code></span></dt>

          <dd>
            <p>Insert the baudrate of the current line.</p>
          </dd>

          <dt><span class="term"><code class="literal">d</code></span></dt>

          <dd>
            <p>Insert the current date.</p>
          </dd>

          <dt><span class="term"><code class="literal">s</code></span></dt>

          <dd>
            <p>Insert the system name, the name of the operating
            system.</p>
          </dd>

          <dt><span class="term"><code class="option">l</code></span></dt>

          <dd>
            <p>Insert the name of the current tty line.</p>
          </dd>

          <dt><span class="term"><code class="literal">m</code></span></dt>

          <dd>
            <p>Insert the architecture identifier of the machine,
            eg. i486</p>
          </dd>

          <dt><span class="term"><code class="literal">n</code></span></dt>

          <dd>
            <p>Insert the nodename of the machine, also known as
            the hostname.</p>
          </dd>

          <dt><span class="term"><code class="literal">o</code></span></dt>

          <dd>
            <p>Insert the NIS domainname of the machine.</p>
          </dd>

          <dt><span class="term"><code class="constant">O</code></span></dt>

          <dd>
            <p>Insert the DNS domainname of the machine.</p>
          </dd>

          <dt><span class="term"><code class="literal">r</code></span></dt>

          <dd>
            <p>Insert the release number of the OS, eg. 1.1.9.</p>
          </dd>

          <dt><span class="term"><code class="option">t</code></span></dt>

          <dd>
            <p>Insert the current time.</p>
          </dd>

          <dt><span class="term"><code class="literal">u</code></span></dt>

          <dd>
            <p>Insert the number of current users logged in.</p>
          </dd>

          <dt><span class="term"><code class="constant">U</code></span></dt>

          <dd>
            <p>Insert the string "1 user" or "&lt;n&gt; users"
            where &lt;n&gt; is the number of current users logged
            in.</p>
          </dd>

          <dt><span class="term"><code class="literal">v</code></span></dt>

          <dd>
            <p>Insert the version of the OS, eg. the build-date
            etc.</p>
          </dd>

          <dt><span class="term">Example: On my system, the
          following <code class="filename">/etc/issue</code>
          file:</span></dt>

          <dd>
            <div class="blockquote">
              <blockquote class="blockquote">
                <div class="informalexample">
                  <pre class="programlisting" xml:space="preserve">
This is \n.\o (\s \m \r) \t
</pre>
                </div>
              </blockquote>
            </div>

            <p>displays as</p>

            <div class="blockquote">
              <blockquote class="blockquote">
                <div class="informalexample">
                  <pre class="programlisting" xml:space="preserve">
This is thingol.orcan.dk (Linux i386 1.1.9) 18:29:30
</pre>
                </div>
              </blockquote>
            </div>
          </dd>
        </dl>
      </div>
    </div>

    <div class="refsect1" title="FILES">
      <a id="agetty-8_sect6" name="agetty-8_sect6" shape="rect"> </a>

      <h2>FILES</h2>

      <div class="informalexample">
        <pre class="programlisting" xml:space="preserve">
/var/run/utmp, the system status file.
/etc/issue, printed before the login prompt.
/dev/console, problem reports (if syslog(3) is not used).
/etc/inittab, 
<span class="citerefentry"><span class="refentrytitle">init</span>(8)</span>
configuration file.
</pre>
      </div>
    </div>

    <div class="refsect1" title="BUGS">
      <a id="agetty-8_sect7" name="agetty-8_sect7" shape="rect"> </a>

      <h2>BUGS</h2>

      <p>The baud-rate detection feature (the <code class="option">−m</code> option) requires that <span class="command"><strong>agetty</strong></span> be scheduled soon
      enough after completion of a dial-in call (within 30 ms with
      modems that talk at 2400 baud). For robustness, always use
      the <code class="option">−m</code> option in
      combination with a multiple baud rate command-line argument,
      so that BREAK processing is enabled.</p>

      <p>The text in the <code class="filename">/etc/issue</code>
      file (or other) and the login prompt are always output with
      7-bit characters and space parity.</p>

      <p>The baud-rate detection feature (the <code class="option">−m</code> option) requires that the modem
      emits its status message <span class="command"><strong>after</strong></span> raising the DCD
      line.</p>
    </div>

    <div class="refsect1" title="DIAGNOSTICS">
      <a id="agetty-8_sect8" name="agetty-8_sect8" shape="rect"> </a>

      <h2>DIAGNOSTICS</h2>

      <p>Depending on how the program was configured, all
      diagnostics are written to the console device or reported via
      the syslog(3) facility. Error messages are produced if the
      <em class="parameter"><code>port</code></em> argument does
      not specify a terminal device; if there is no utmp entry for
      the current process (System V only); and so on.</p>
    </div>

    <div class="refsect1" title="AUTHOR(S)">
      <a id="agetty-8_sect9" name="agetty-8_sect9" shape="rect"> </a>

      <h2>AUTHOR(S)</h2>

      <div class="informalexample">
        <pre class="programlisting" xml:space="preserve">
W.Z. Venema &lt;wietse@wzv.win.tue.nl&gt;
Eindhoven University of Technology
Department of Mathematics and Computer Science
Den Dolech 2, P.O. Box 513, 5600 MB Eindhoven, The Netherlands

Peter Orbaek &lt;poe@daimi.aau.dk&gt;
Linux port and more options. Still maintains the code.

Eric Rasmussen &lt;ear@usfirst.org&gt;
Added −f option to display custom login messages on different terminals.
</pre>
      </div>
    </div>

    <div class="refsect1" title="AVAILABILITY">
      <a id="agetty-8_sect10" name="agetty-8_sect10" shape="rect"> </a>

      <h2>AVAILABILITY</h2>

      <p>The agetty command is part of the util-linux package and
      is available from
      ftp://ftp.kernel.org/pub/linux/utils/util-linux/.</p>

      <div class="license">
        <table style="border-collapse: collapse;">
          <colgroup span="1">
            <col span="1" />
          </colgroup>

          <tbody>
            <tr>
              <td style="" rowspan="1" colspan="1">
                <div class="literallayout">
                  <br />
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</body>
</html>
