<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

  <title>sigaction(2) — Linux manual pages</title>
  <link rel="stylesheet" href="../stylesheet/manpages.css" type="text/css" />
  
  <link rel="home" href="../index.html" title="sigaction(2) — Linux manual pages" />
  <script type="text/javascript" src="../stylesheet/manpages.js" xml:space="preserve">
</script>
  <link rel="icon" href="../stylesheet/icon.gif" type="image/gif" />
</head>

<body onload="javascript:init()">
  

  <div class="refentry" title="sigaction(2) — Linux manual pages">
    <a id="sigaction.2" name="sigaction.2" shape="rect"> </a>

    <div class="titlepage"> </div>

    <div class="refnamediv">
      <h2>Name</h2>

      <p>sigaction — examine and change a signal action</p>
    </div>

    <div class="refsynopsisdiv" title="Synopsis">
      <h2>Synopsis</h2>

      <div class="funcsynopsis">
        <pre class="funcsynopsisinfo" xml:space="preserve">
#include &lt;signal.h&gt;
</pre>

        <table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int <b class="fsfunc">sigaction</b>(</code></td>

            <td rowspan="1" colspan="1">int <var class="pdparam">signum</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">const struct sigaction *<var class="pdparam">act</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">struct sigaction *<var class="pdparam">oldact</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;">
        <table border="0" summary="Note">
          <tr>
            <td rowspan="2" align="center" valign="top" width="25" colspan="1">
            <img alt="[Note]" src="../stylesheet/note.png" /></td>

            <th align="left" rowspan="1" colspan="1">Note</th>
          </tr>

          <tr>
            <td align="left" valign="top" rowspan="1" colspan="1">
              <div class="featuretests">
                <table style="border-collapse: collapse;">
                  <colgroup span="1">
                    <col span="1" />
                  </colgroup>

                  <thead>
                    <tr>
                      <th style="" rowspan="1" colspan="1">Feature Test Macro Requirements
                      for glibc (see <a class="link" href="../htmlman7/feature_test_macros.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">feature_test_macros</span>(7)</span></a>):</th>
                    </tr>
                  </thead>

                  <tbody>
                    <tr>
                      <td style="" rowspan="1" colspan="1"><code class="function">sigaction</code>():</td>
                    </tr>

                    <tr>
                      <td class="featuretestdef" style="" rowspan="1" colspan="1">
                      <code class="constant">_POSIX_C_SOURCE</code>
                      &gt;= 1 || <code class="constant">_XOPEN_SOURCE</code> ||
                      <code class="constant">_POSIX_SOURCE</code></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </td>
          </tr>
        </table>
      </div>
    </div>

    <div class="refsect1" title="DESCRIPTION">
      <a id="sigaction-2_sect1" name="sigaction-2_sect1" shape="rect"> </a>

      <h2>DESCRIPTION</h2>

      <p>The <code class="function">sigaction</code>() system call
      is used to change the action taken by a process on receipt of
      a specific signal. (See <a class="link" href="../htmlman7/signal.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">signal</span>(7)</span></a> for an overview
      of signals.)</p>

      <p><em class="parameter"><code>signum</code></em> specifies
      the signal and can be any valid signal except <code class="constant">SIGKILL</code> and <code class="constant">SIGSTOP</code>.</p>

      <p>If <em class="parameter"><code>act</code></em> is
      non-NULL, the new action for signal <em class="parameter"><code>signum</code></em> is installed from
      <em class="parameter"><code>act</code></em>. If <em class="parameter"><code>oldact</code></em> is non-NULL, the
      previous action is saved in <em class="parameter"><code>oldact</code></em>.</p>

      <p>The <span class="structname">sigaction</span> structure is
      defined as something like:</p>

      <div class="blockquote">
        <blockquote class="blockquote">
          <div class="structdef">
            <table style="border-collapse: collapse;">
              <colgroup span="1">
                <col span="1" />
                <col span="1" />
                <col span="1" />
                <col span="1" />
                <col span="1" />
              </colgroup>

              <tbody>
                <tr>
                  <td class="structdefhdr" style="" align="left" rowspan="1" colspan="1">
                  struct</td>

                  <td class="structdefhdr" style="" colspan="4" align="left" rowspan="1"><span class="structname">sigaction</span> {</td>
                </tr>

                <tr>
                  <td style="" rowspan="1" colspan="1"> </td>

                  <td style="" align="left" rowspan="1" colspan="1"><span class="type">void</span></td>

                  <td class="norightpad" style="" align="right" rowspan="1" colspan="1">
                  (*</td>

                  <td style="" align="left" rowspan="1" colspan="1"><em class="structfield"><code>sa_handler</code></em>)(int);</td>

                  <td style="" align="left" rowspan="1" colspan="1"> </td>
                </tr>

                <tr>
                  <td style="" rowspan="1" colspan="1"> </td>

                  <td style="" align="left" rowspan="1" colspan="1"><span class="type">void</span></td>

                  <td class="norightpad" style="" align="right" rowspan="1" colspan="1">
                  (*</td>

                  <td style="" align="left" rowspan="1" colspan="1"><em class="structfield"><code>sa_sigaction</code></em>)(int, siginfo_t *, void *);</td>

                  <td style="" align="left" rowspan="1" colspan="1"> </td>
                </tr>

                <tr>
                  <td style="" rowspan="1" colspan="1"> </td>

                  <td style="" align="left" rowspan="1" colspan="1"><span class="type">sigset_t</span></td>

                  <td class="norightpad" style="" align="right" rowspan="1" colspan="1">
                   </td>

                  <td style="" align="left" rowspan="1" colspan="1"><em class="structfield"><code>sa_mask</code></em>;</td>

                  <td style="" align="left" rowspan="1" colspan="1"> </td>
                </tr>

                <tr>
                  <td style="" rowspan="1" colspan="1"> </td>

                  <td style="" align="left" rowspan="1" colspan="1"><span class="type">int</span></td>

                  <td class="norightpad" style="" align="right" rowspan="1" colspan="1">
                   </td>

                  <td style="" align="left" rowspan="1" colspan="1"><em class="structfield"><code>sa_flags</code></em>;</td>

                  <td style="" align="left" rowspan="1" colspan="1"> </td>
                </tr>

                <tr>
                  <td style="" rowspan="1" colspan="1"> </td>

                  <td style="" align="left" rowspan="1" colspan="1"><span class="type">void</span></td>

                  <td class="norightpad" style="" align="right" rowspan="1" colspan="1">
                  (*</td>

                  <td style="" align="left" rowspan="1" colspan="1"><em class="structfield"><code>sa_restorer</code></em>)(void);</td>

                  <td style="" align="left" rowspan="1" colspan="1"> </td>
                </tr>

                <tr>
                  <td class="structdefftr" style="" colspan="5" align="left" rowspan="1">};</td>
                </tr>
              </tbody>
            </table>
          </div>
        </blockquote>
      </div>

      <p>On some architectures a union is involved: do not assign
      to both <em class="parameter"><code>sa_handler</code></em>
      and <em class="parameter"><code>sa_sigaction</code></em>.</p>

      <p>The <em class="parameter"><code>sa_restorer</code></em>
      element is obsolete and should not be used. POSIX does not
      specify a <em class="parameter"><code>sa_restorer</code></em>
      element.</p>

      <p><em class="parameter"><code>sa_handler</code></em>
      specifies the action to be associated with <em class="parameter"><code>signum</code></em> and may be <code class="constant">SIG_DFL</code> for the default action,
      <code class="constant">SIG_IGN</code> to ignore this signal,
      or a pointer to a signal handling function. This function
      receives the signal number as its only argument.</p>

      <p>If <code class="constant">SA_SIGINFO</code> is specified
      in <em class="parameter"><code>sa_flags</code></em>, then
      <em class="parameter"><code>sa_sigaction</code></em> (instead
      of <em class="parameter"><code>sa_handler</code></em>)
      specifies the signal-handling function for <em class="parameter"><code>signum</code></em>. This function receives
      the signal number as its first argument, a pointer to a
      <span class="type">siginfo_t</span> as its second argument
      and a pointer to a <span class="type">ucontext_t</span> (cast
      to <span class="emphasis"><em>void *</em></span>) as its
      third argument.</p>

      <p><em class="parameter"><code>sa_mask</code></em> specifies
      a mask of signals which should be blocked (i.e., added to the
      signal mask of the thread in which the signal handler is
      invoked) during execution of the signal handler. In addition,
      the signal which triggered the handler will be blocked,
      unless the <code class="constant">SA_NODEFER</code> flag is
      used.</p>

      <p><em class="parameter"><code>sa_flags</code></em> specifies
      a set of flags which modify the behavior of the signal. It is
      formed by the bitwise OR of zero or more of the
      following:</p>

      <div class="blockquote">
        <blockquote class="blockquote">
          <div class="variablelist">
            <dl>
              <dt><span class="term"><code class="constant">SA_NOCLDSTOP</code></span></dt>

              <dd>
                <p>If <em class="parameter"><code>signum</code></em> is
                <code class="constant">SIGCHLD</code>, do not
                receive notification when child processes stop
                (i.e., when they receive one of <code class="constant">SIGSTOP</code>, <code class="constant">SIGTSTP</code>, <code class="constant">SIGTTIN</code> or <code class="constant">SIGTTOU</code>) or resume (i.e., they
                receive <code class="constant">SIGCONT</code>) (see
                <a class="link" href="../htmlman2/wait.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">wait</span>(2)</span></a>). This
                flag is only meaningful when establishing a handler
                for <code class="constant">SIGCHLD</code>.</p>
              </dd>

              <dt><span class="term"><code class="constant">SA_NOCLDWAIT</code> (since Linux
              2.6)</span></dt>

              <dd>
                <p>If <em class="parameter"><code>signum</code></em> is
                <code class="constant">SIGCHLD</code>, do not
                transform children into zombies when they
                terminate. See also <a class="link" href="../htmlman2/wait.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">waitpid</span>(2)</span></a>. This
                flag is only meaningful when establishing a handler
                for <code class="constant">SIGCHLD</code>, or when
                setting that signal's disposition to <code class="constant">SIG_DFL</code>.</p>

                <p>If the <code class="constant">SA_NOCLDWAIT</code> flag is set when
                establishing a handler for <code class="constant">SIGCHLD</code>, POSIX.1 leaves it
                unspecified whether a <code class="constant">SIGCHLD</code> signal is generated when
                a child process terminates. On Linux, a
                <code class="constant">SIGCHLD</code> signal is
                generated in this case; on some other
                implementations, it is not.</p>
              </dd>

              <dt><span class="term"><code class="constant">SA_NODEFER</code></span></dt>

              <dd>
                <p>Do not prevent the signal from being received
                from within its own signal handler. This flag is
                only meaningful when establishing a signal handler.
                <code class="constant">SA_NOMASK</code> is an
                obsolete, nonstandard synonym for this flag.</p>
              </dd>

              <dt><span class="term"><code class="constant">SA_ONSTACK</code></span></dt>

              <dd>
                <p>Call the signal handler on an alternate signal
                stack provided by <a class="link" href="../htmlman2/sigaltstack.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigaltstack</span>(2)</span></a>.
                If an alternate stack is not available, the default
                stack will be used. This flag is only meaningful
                when establishing a signal handler.</p>
              </dd>

              <dt><span class="term"><code class="constant">SA_RESETHAND</code></span></dt>

              <dd>
                <p>Restore the signal action to the default state
                once the signal handler has been called. This flag
                is only meaningful when establishing a signal
                handler. <code class="constant">SA_ONESHOT</code>
                is an obsolete, nonstandard synonym for this
                flag.</p>
              </dd>

              <dt><span class="term"><code class="constant">SA_RESTART</code></span></dt>

              <dd>
                <p>Provide behavior compatible with BSD signal
                semantics by making certain system calls
                restartable across signals. This flag is only
                meaningful when establishing a signal handler. See
                <a class="link" href="../htmlman7/signal.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">signal</span>(7)</span></a> for a
                discussion of system call restarting.</p>
              </dd>

              <dt><span class="term"><code class="constant">SA_SIGINFO</code> (since Linux
              2.2)</span></dt>

              <dd>
                <p>The signal handler takes 3 arguments, not one.
                In this case, <em class="parameter"><code>sa_sigaction</code></em> should
                be set instead of <em class="parameter"><code>sa_handler</code></em>. This flag
                is only meaningful when establishing a signal
                handler.</p>
              </dd>
            </dl>
          </div>
        </blockquote>
      </div>

      <p>The <span class="type">siginfo_t</span> argument to
      <em class="parameter"><code>sa_sigaction</code></em> is a
      struct with the following elements:</p>

      <div class="blockquote">
        <blockquote class="blockquote">
          <div class="informalexample">
            <pre class="programlisting" xml:space="preserve">
siginfo_t {
    int      si_signo;    /* Signal number */
    int      si_errno;    /* An errno value */
    int      si_code;     /* Signal code */
    int      si_trapno;   /* Trap number that caused
                             hardware-generated signal
                             (unused on most architectures) */
    pid_t    si_pid;      /* Sending process ID */
    uid_t    si_uid;      /* Real user ID of sending process */
    int      si_status;   /* Exit value or signal */
    clock_t  si_utime;    /* User time consumed */
    clock_t  si_stime;    /* System time consumed */
    sigval_t si_value;    /* Signal value */
    int      si_int;      /* POSIX.1b signal */
    void    *si_ptr;      /* POSIX.1b signal */
    int      si_overrun;  /* Timer overrun count; POSIX.1b timers */
    int      si_timerid;  /* Timer ID; POSIX.1b timers */
    void    *si_addr;     /* Memory location which caused fault */
    long     si_band;     /* Band event (was <span class="type">int</span> in
                             glibc 2.3.2 and earlier) */
    int      si_fd;       /* File descriptor */
    short    si_addr_lsb; /* Least significant bit of address
                             (since kernel 2.6.32) */
}
</pre>
          </div>
        </blockquote>
      </div>

      <p><em class="replaceable"><code>si_signo</code></em>,
      <em class="replaceable"><code>si_errno</code></em> and
      <em class="replaceable"><code>si_code</code></em> are defined
      for all signals. (<em class="replaceable"><code>si_errno</code></em> is generally unused
      on Linux.) The rest of the struct may be a union, so that one
      should only read the fields that are meaningful for the given
      signal:</p>

      <div class="itemizedlist">
        <ul class="itemizedlist" type="disc">
          <li class="listitem">
            <p>Signals sent with <a class="link" href="../htmlman2/kill.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">kill</span>(2)</span></a> and <a class="link" href="../htmlman2/sigqueue.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigqueue</span>(2)</span></a> fill in
            <em class="replaceable"><code>si_pid</code></em> and
            <em class="replaceable"><code>si_uid</code></em>. In
            addition, signals sent with <a class="link" href="../htmlman2/sigqueue.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigqueue</span>(2)</span></a> fill in
            <em class="replaceable"><code>si_int</code></em> and
            <em class="replaceable"><code>si_ptr</code></em> with
            the values specified by the sender the signal; see
            <a class="link" href="../htmlman2/sigqueue.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigqueue</span>(2)</span></a> for more
            details.</p>
          </li>

          <li class="listitem">
            <p>Signals sent by POSIX.1b timers (since Linux 2.6)
            fill in <em class="replaceable"><code>si_overrun</code></em> and
            <em class="replaceable"><code>si_timerid</code></em>.
            The <em class="replaceable"><code>si_timerid</code></em> field is an
            internal ID used by the kernel to identify the timer;
            it is not the same as the timer ID returned by
            <a class="link" href="../htmlman2/timer_create.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">timer_create</span>(2)</span></a>. The
            <em class="replaceable"><code>si_overrun</code></em>
            field is the timer overrun count; this is the same
            information as is obtained by a call to <a class="link" href="../htmlman2/timer_getoverrun.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">timer_getoverrun</span>(2)</span></a>.
            These fields are nonstandard Linux extensions.</p>
          </li>

          <li class="listitem">
            <p>Signals sent for message queue notification (see the
            description of <code class="constant">SIGEV_SIGNAL</code> in <a class="link" href="../htmlman3/mq_notify.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">mq_notify</span>(3)</span></a>) fill in
            <em class="replaceable"><code>si_int</code></em>/<em class="replaceable"><code>si_ptr</code></em>, with the
            <em class="replaceable"><code>sigev_value</code></em>
            supplied to <a class="link" href="../htmlman3/mq_notify.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">mq_notify</span>(3)</span></a>;
            <em class="replaceable"><code>si_pid</code></em>, with
            the process ID of the message sender; and <em class="replaceable"><code>si_uid</code></em>, with the real
            user ID of the message sender.</p>
          </li>

          <li class="listitem">
            <p><code class="constant">SIGCHLD</code> fills in
            <em class="replaceable"><code>si_pid</code></em>,
            <em class="replaceable"><code>si_uid</code></em>,
            <em class="replaceable"><code>si_status</code></em>,
            <em class="replaceable"><code>si_utime</code></em> and
            <em class="replaceable"><code>si_stime</code></em>,
            providing information about the child. The <em class="replaceable"><code>si_pid</code></em> field is the
            process ID of the child; <em class="replaceable"><code>si_uid</code></em> is the child's
            real user ID. The <em class="replaceable"><code>si_status</code></em> field
            contains the exit status of the child (if <em class="replaceable"><code>si_code</code></em> is <code class="constant">CLD_EXITED</code>), or the signal number
            that caused the process to change state. The <em class="replaceable"><code>si_utime</code></em> and <em class="replaceable"><code>si_stime</code></em> contain the
            user and system CPU time used by the child process;
            these fields do not include the times used by
            waited-for children (unlike <a class="link" href="../htmlman2/getrusage.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getrusage</span>(2)</span></a> and
            <a class="link" href="../htmlman2/time.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">time</span>(2)</span></a>). In kernels
            up to 2.6, and since 2.6.27, these fields report CPU
            time in units of <em class="replaceable"><code>sysconf(_SC_CLK_TCK)</code></em>.
            In 2.6 kernels before 2.6.27, a bug meant that these
            fields reported time in units of the (configurable)
            system jiffy (see <a class="link" href="../htmlman7/time.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">time</span>(7)</span></a>).</p>
          </li>

          <li class="listitem">
            <p><code class="constant">SIGILL</code>, <code class="constant">SIGFPE</code>, <code class="constant">SIGSEGV</code>, <code class="constant">SIGBUS</code>, and <code class="constant">SIGTRAP</code> fill in <em class="replaceable"><code>si_addr</code></em> with the
            address of the fault. On some architectures, these
            signals also fill in the <em class="replaceable"><code>si_trapno</code></em> filed. Some
            suberrors of <code class="constant">SIGBUS</code>, in
            particular <code class="constant">BUS_MCEERR_AO</code>
            and <code class="constant">BUS_MCEERR_AR</code>, also
            fill in <em class="replaceable"><code>si_addr_lsb</code></em>. This field
            indicates the least significant bit of the reported
            address and therefore the extent of the corruption. For
            example, if a full page was corrupted, <em class="replaceable"><code>si_addr_lsb</code></em> contains
            <em class="replaceable"><code>log2(sysconf(_SC_PAGESIZE))</code></em>.
            <em class="replaceable"><code>BUS_MCERR_*</code></em>
            and <em class="replaceable"><code>si_addr_lsb</code></em> are
            Linux-specific extensions.</p>
          </li>

          <li class="listitem">
            <p><code class="constant">SIGPOLL</code>/<code class="constant">SIGIO</code> fills in <em class="replaceable"><code>si_band</code></em> and <em class="replaceable"><code>si_fd</code></em>. The <em class="replaceable"><code>si_band</code></em> event is a bit
            mask containing the same values as are filled in the
            <em class="replaceable"><code>revents</code></em> field
            by <a class="link" href="../htmlman2/poll.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">poll</span>(2)</span></a>. The
            <em class="replaceable"><code>si_fd</code></em> field
            indicates the file descriptor for which the I/O event
            occurred.</p>
          </li>
        </ul>
      </div>

      <p><em class="replaceable"><code>si_code</code></em> is a
      value (not a bit mask) indicating why this signal was sent.
      The following list shows the values which can be placed in
      <em class="replaceable"><code>si_code</code></em> for any
      signal, along with reason that the signal was generated.</p>

      <div class="blockquote">
        <blockquote class="blockquote">
          <div class="variablelist">
            <dl>
              <dt><span class="term"><code class="constant">SI_USER</code></span></dt>

              <dd>
                <p><a class="link" href="../htmlman2/kill.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">kill</span>(2)</span></a> or
                <a class="link" href="../htmlman3/raise.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">raise</span>(3)</span></a></p>
              </dd>

              <dt><span class="term"><code class="constant">SI_KERNEL</code></span></dt>

              <dd>
                <p>Sent by the kernel.</p>
              </dd>

              <dt><span class="term"><code class="constant">SI_QUEUE</code></span></dt>

              <dd>
                <p><a class="link" href="../htmlman2/sigqueue.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigqueue</span>(2)</span></a></p>
              </dd>

              <dt><span class="term"><code class="constant">SI_TIMER</code></span></dt>

              <dd>
                <p>POSIX timer expired</p>
              </dd>

              <dt><span class="term"><code class="constant">SI_MESGQ</code></span></dt>

              <dd>
                <p>POSIX message queue state changed (since Linux
                2.6.6); see <a class="link" href="../htmlman3/mq_notify.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">mq_notify</span>(3)</span></a></p>
              </dd>

              <dt><span class="term"><code class="constant">SI_ASYNCIO</code></span></dt>

              <dd>
                <p>AIO completed</p>
              </dd>

              <dt><span class="term"><code class="constant">SI_SIGIO</code></span></dt>

              <dd>
                <p>queued SIGIO</p>
              </dd>

              <dt><span class="term"><code class="constant">SI_TKILL</code></span></dt>

              <dd>
                <p><a class="link" href="../htmlman2/tkill.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">tkill</span>(2)</span></a> or
                <a class="link" href="../htmlman2/tkill.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">tgkill</span>(2)</span></a> (since
                Linux 2.4.19)</p>
              </dd>
            </dl>
          </div>
        </blockquote>
      </div>

      <p>The following values can be placed in <em class="replaceable"><code>si_code</code></em> for a <code class="constant">SIGILL</code> signal:</p>

      <div class="blockquote">
        <blockquote class="blockquote">
          <div class="variablelist">
            <dl>
              <dt><span class="term"><code class="constant">ILL_ILLOPC</code></span></dt>

              <dd>
                <p>illegal opcode</p>
              </dd>

              <dt><span class="term"><code class="constant">ILL_ILLOPN</code></span></dt>

              <dd>
                <p>illegal operand</p>
              </dd>

              <dt><span class="term"><code class="constant">ILL_ILLADR</code></span></dt>

              <dd>
                <p>illegal addressing mode</p>
              </dd>

              <dt><span class="term"><code class="constant">ILL_ILLTRP</code></span></dt>

              <dd>
                <p>illegal trap</p>
              </dd>

              <dt><span class="term"><code class="constant">ILL_PRVOPC</code></span></dt>

              <dd>
                <p>privileged opcode</p>
              </dd>

              <dt><span class="term"><code class="constant">ILL_PRVREG</code></span></dt>

              <dd>
                <p>privileged register</p>
              </dd>

              <dt><span class="term"><code class="constant">ILL_COPROC</code></span></dt>

              <dd>
                <p>coprocessor error</p>
              </dd>

              <dt><span class="term"><code class="constant">ILL_BADSTK</code></span></dt>

              <dd>
                <p>internal stack error</p>
              </dd>
            </dl>
          </div>
        </blockquote>
      </div>

      <p>The following values can be placed in <em class="replaceable"><code>si_code</code></em> for a <code class="constant">SIGFPE</code> signal:</p>

      <div class="blockquote">
        <blockquote class="blockquote">
          <div class="variablelist">
            <dl>
              <dt><span class="term"><code class="constant">FPE_INTDIV</code></span></dt>

              <dd>
                <p>integer divide by zero</p>
              </dd>

              <dt><span class="term"><code class="constant">FPE_INTOVF</code></span></dt>

              <dd>
                <p>integer overflow</p>
              </dd>

              <dt><span class="term"><code class="constant">FPE_FLTDIV</code></span></dt>

              <dd>
                <p>floating-point divide by zero</p>
              </dd>

              <dt><span class="term"><code class="constant">FPE_FLTOVF</code></span></dt>

              <dd>
                <p>floating-point overflow</p>
              </dd>

              <dt><span class="term"><code class="constant">FPE_FLTUND</code></span></dt>

              <dd>
                <p>floating-point underflow</p>
              </dd>

              <dt><span class="term"><code class="constant">FPE_FLTRES</code></span></dt>

              <dd>
                <p>floating-point inexact result</p>
              </dd>

              <dt><span class="term"><code class="constant">FPE_FLTINV</code></span></dt>

              <dd>
                <p>floating-point invalid operation</p>
              </dd>

              <dt><span class="term"><code class="constant">FPE_FLTSUB</code></span></dt>

              <dd>
                <p>subscript out of range</p>
              </dd>
            </dl>
          </div>
        </blockquote>
      </div>

      <p>The following values can be placed in <em class="replaceable"><code>si_code</code></em> for a <code class="constant">SIGSEGV</code> signal:</p>

      <div class="blockquote">
        <blockquote class="blockquote">
          <div class="variablelist">
            <dl>
              <dt><span class="term"><code class="constant">SEGV_MAPERR</code></span></dt>

              <dd>
                <p>address not mapped to object</p>
              </dd>

              <dt><span class="term"><code class="constant">SEGV_ACCERR</code></span></dt>

              <dd>
                <p>invalid permissions for mapped object</p>
              </dd>
            </dl>
          </div>
        </blockquote>
      </div>

      <p>The following values can be placed in <em class="replaceable"><code>si_code</code></em> for a <code class="constant">SIGBUS</code> signal:</p>

      <div class="blockquote">
        <blockquote class="blockquote">
          <div class="variablelist">
            <dl>
              <dt><span class="term"><code class="constant">BUS_ADRALN</code></span></dt>

              <dd>
                <p>invalid address alignment</p>
              </dd>

              <dt><span class="term"><code class="constant">BUS_ADRERR</code></span></dt>

              <dd>
                <p>nonexistent physical address</p>
              </dd>

              <dt><span class="term"><code class="constant">BUS_OBJERR</code></span></dt>

              <dd>
                <p>object-specific hardware error</p>
              </dd>

              <dt><span class="term"><code class="constant">BUS_MCEERR_AR</code> (since Linux
              2.6.32)</span></dt>

              <dd>
                <p>Hardware memory error consumed on a machine
                check; action required.</p>
              </dd>

              <dt><span class="term"><code class="constant">BUS_MCEERR_AO</code> (since Linux
              2.6.32)</span></dt>

              <dd>
                <p>Hardware memory error detected in process but
                not consumed; action optional.</p>
              </dd>
            </dl>
          </div>
        </blockquote>
      </div>

      <p>The following values can be placed in <em class="replaceable"><code>si_code</code></em> for a <code class="constant">SIGTRAP</code> signal:</p>

      <div class="blockquote">
        <blockquote class="blockquote">
          <div class="variablelist">
            <dl>
              <dt><span class="term"><code class="constant">TRAP_BRKPT</code></span></dt>

              <dd>
                <p>process breakpoint</p>
              </dd>

              <dt><span class="term"><code class="constant">TRAP_TRACE</code></span></dt>

              <dd>
                <p>process trace trap</p>
              </dd>

              <dt><span class="term"><code class="constant">TRAP_BRANCH</code> (since Linux
              2.4)</span></dt>

              <dd>
                <p>process taken branch trap</p>
              </dd>

              <dt><span class="term"><code class="constant">TRAP_HWBKPT</code> (since Linux
              2.4)</span></dt>

              <dd>
                <p>hardware breakpoint/watchpoint</p>
              </dd>
            </dl>
          </div>
        </blockquote>
      </div>

      <p>The following values can be placed in <em class="replaceable"><code>si_code</code></em> for a <code class="constant">SIGCHLD</code> signal:</p>

      <div class="blockquote">
        <blockquote class="blockquote">
          <div class="variablelist">
            <dl>
              <dt><span class="term"><code class="constant">CLD_EXITED</code></span></dt>

              <dd>
                <p>child has exited</p>
              </dd>

              <dt><span class="term"><code class="constant">CLD_KILLED</code></span></dt>

              <dd>
                <p>child was killed</p>
              </dd>

              <dt><span class="term"><code class="constant">CLD_DUMPED</code></span></dt>

              <dd>
                <p>child terminated abnormally</p>
              </dd>

              <dt><span class="term"><code class="constant">CLD_TRAPPED</code></span></dt>

              <dd>
                <p>traced child has trapped</p>
              </dd>

              <dt><span class="term"><code class="constant">CLD_STOPPED</code></span></dt>

              <dd>
                <p>child has stopped</p>
              </dd>

              <dt><span class="term"><code class="constant">CLD_CONTINUED</code></span></dt>

              <dd>
                <p>stopped child has continued (since Linux
                2.6.9)</p>
              </dd>
            </dl>
          </div>
        </blockquote>
      </div>

      <p>The following values can be placed in <em class="replaceable"><code>si_code</code></em> for a <code class="constant">SIGPOLL</code> signal:</p>

      <div class="blockquote">
        <blockquote class="blockquote">
          <div class="variablelist">
            <dl>
              <dt><span class="term"><code class="constant">POLL_IN</code></span></dt>

              <dd>
                <p>data input available</p>
              </dd>

              <dt><span class="term"><code class="constant">POLL_OUT</code></span></dt>

              <dd>
                <p>output buffers available</p>
              </dd>

              <dt><span class="term"><code class="constant">POLL_MSG</code></span></dt>

              <dd>
                <p>input message available</p>
              </dd>

              <dt><span class="term"><code class="constant">POLL_ERR</code></span></dt>

              <dd>
                <p>I/O error</p>
              </dd>

              <dt><span class="term"><code class="constant">POLL_PRI</code></span></dt>

              <dd>
                <p>high priority input available</p>
              </dd>

              <dt><span class="term"><code class="constant">POLL_HUP</code></span></dt>

              <dd>
                <p>device disconnected</p>
              </dd>
            </dl>
          </div>
        </blockquote>
      </div>
    </div>

    <div class="refsect1" title="RETURN VALUE">
      <a id="sigaction-2_sect2" name="sigaction-2_sect2" shape="rect"> </a>

      <h2>RETURN VALUE</h2>

      <p><code class="function">sigaction</code>() returns 0 on
      success and −1 on error.</p>
    </div>

    <div class="refsect1" title="ERRORS">
      <a id="sigaction-2_sect3" name="sigaction-2_sect3" shape="rect"> </a>

      <h2>ERRORS</h2>

      <div class="variablelist">
        <dl>
          <dt><span class="term"><span class="errorname">EFAULT</span></span></dt>

          <dd>
            <p><em class="parameter"><code>act</code></em> or
            <em class="parameter"><code>oldact</code></em> points
            to memory which is not a valid part of the process
            address space.</p>
          </dd>

          <dt><span class="term"><span class="errorname">EINVAL</span></span></dt>

          <dd>
            <p>An invalid signal was specified. This will also be
            generated if an attempt is made to change the action
            for <code class="constant">SIGKILL</code> or
            <code class="constant">SIGSTOP</code>, which cannot be
            caught or ignored.</p>
          </dd>
        </dl>
      </div>
    </div>

    <div class="refsect1" title="CONFORMING TO">
      <a id="sigaction-2_sect4" name="sigaction-2_sect4" shape="rect"> </a>

      <h2>CONFORMING TO</h2>

      <p>POSIX.1-2001, SVr4.</p>
    </div>

    <div class="refsect1" title="NOTES">
      <a id="sigaction-2_sect5" name="sigaction-2_sect5" shape="rect"> </a>

      <h2>NOTES</h2>

      <p>A child created via <a class="link" href="../htmlman2/fork.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">fork</span>(2)</span></a> inherits a copy of
      its parent's signal dispositions. During an <a class="link" href="../htmlman2/execve.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">execve</span>(2)</span></a>, the dispositions
      of handled signals are reset to the default; the dispositions
      of ignored signals are left unchanged.</p>

      <p>According to POSIX, the behavior of a process is undefined
      after it ignores a <code class="constant">SIGFPE</code>,
      <code class="constant">SIGILL</code>, or <code class="constant">SIGSEGV</code> signal that was not generated by
      <a class="link" href="../htmlman2/kill.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">kill</span>(2)</span></a> or <a class="link" href="../htmlman3/raise.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">raise</span>(3)</span></a>. Integer division
      by zero has undefined result. On some architectures it will
      generate a <code class="constant">SIGFPE</code> signal. (Also
      dividing the most negative integer by −1 may generate
      <code class="constant">SIGFPE</code>.) Ignoring this signal
      might lead to an endless loop.</p>

      <p>POSIX.1-1990 disallowed setting the action for
      <code class="constant">SIGCHLD</code> to <code class="constant">SIG_IGN</code>. POSIX.1-2001 allows this
      possibility, so that ignoring <code class="constant">SIGCHLD</code> can be used to prevent the creation
      of zombies (see <a class="link" href="../htmlman2/wait.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">wait</span>(2)</span></a>). Nevertheless, the
      historical BSD and System V behaviors for ignoring
      <code class="constant">SIGCHLD</code> differ, so that the
      only completely portable method of ensuring that terminated
      children do not become zombies is to catch the <code class="constant">SIGCHLD</code> signal and perform a <a class="link" href="../htmlman2/wait.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">wait</span>(2)</span></a> or similar.</p>

      <p>POSIX.1-1990 only specified <code class="constant">SA_NOCLDSTOP</code>. POSIX.1-2001 added
      <code class="constant">SA_NOCLDWAIT</code>, <code class="constant">SA_RESETHAND</code>, <code class="constant">SA_NODEFER</code>, and <code class="constant">SA_SIGINFO</code>. Use of these latter values in
      <em class="parameter"><code>sa_flags</code></em> may be less
      portable in applications intended for older UNIX
      implementations.</p>

      <p>The <code class="constant">SA_RESETHAND</code> flag is
      compatible with the SVr4 flag of the same name.</p>

      <p>The <code class="constant">SA_NODEFER</code> flag is
      compatible with the SVr4 flag of the same name under kernels
      1.3.9 and newer. On older kernels the Linux implementation
      allowed the receipt of any signal, not just the one we are
      installing (effectively overriding any <em class="parameter"><code>sa_mask</code></em> settings).</p>

      <p><code class="function">sigaction</code>() can be called
      with a NULL second argument to query the current signal
      handler. It can also be used to check whether a given signal
      is valid for the current machine by calling it with NULL
      second and third arguments.</p>

      <p>It is not possible to block <code class="constant">SIGKILL</code> or <code class="constant">SIGSTOP</code> (by specifying them in <em class="parameter"><code>sa_mask</code></em>). Attempts to do so are
      silently ignored.</p>

      <p>See <a class="link" href="../htmlman3/sigsetops.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigsetops</span>(3)</span></a> for details on
      manipulating signal sets.</p>

      <p>See <a class="link" href="../htmlman7/signal.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">signal</span>(7)</span></a> for a list of the
      async-signal-safe functions that can be safely called inside
      from inside a signal handler.</p>

      <div class="refsect2" title="Undocumented">
        <a id="sigaction-2_sect6" name="sigaction-2_sect6" shape="rect"> </a>

        <h3>Undocumented</h3>

        <p>Before the introduction of <code class="constant">SA_SIGINFO</code> it was also possible to get
        some additional information, namely by using a <em class="parameter"><code>sa_handler</code></em> with second
        argument of type <span class="emphasis"><em>struct
        sigcontext</em></span>. See the relevant kernel sources for
        details. This use is obsolete now.</p>
      </div>
    </div>

    <div class="refsect1" title="BUGS">
      <a id="sigaction-2_sect7" name="sigaction-2_sect7" shape="rect"> </a>

      <h2>BUGS</h2>

      <p>In kernels up to and including 2.6.13, specifying
      <code class="constant">SA_NODEFER</code> in <em class="parameter"><code>sa_flags</code></em> prevents not only the
      delivered signal from being masked during execution of the
      handler, but also the signals specified in <em class="parameter"><code>sa_mask</code></em>. This bug was fixed in
      kernel 2.6.14.</p>
    </div>

    <div class="refsect1" title="EXAMPLE">
      <a id="sigaction-2_sect8" name="sigaction-2_sect8" shape="rect"> </a>

      <h2>EXAMPLE</h2>

      <p>See <a class="link" href="../htmlman2/mprotect.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">mprotect</span>(2)</span></a>.</p>
    </div>

    <div class="refsect1" title="SEE ALSO">
      <a id="sigaction-2_sect9" name="sigaction-2_sect9" shape="rect"> </a>

      <h2>SEE ALSO</h2>

      <p><a class="link" href="../htmlman1/kill.1.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">kill</span>(1)</span></a>, <a class="link" href="../htmlman2/kill.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">kill</span>(2)</span></a>, <a class="link" href="../htmlman2/killpg.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">killpg</span>(2)</span></a>, <a class="link" href="../htmlman2/pause.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">pause</span>(2)</span></a>, <a class="link" href="../htmlman2/sigaltstack.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigaltstack</span>(2)</span></a>, <a class="link" href="../htmlman2/signal.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">signal</span>(2)</span></a>, <a class="link" href="../htmlman2/signalfd.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">signalfd</span>(2)</span></a>, <a class="link" href="../htmlman2/sigpending.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigpending</span>(2)</span></a>, <a class="link" href="../htmlman2/sigprocmask.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigprocmask</span>(2)</span></a>, <a class="link" href="../htmlman2/sigqueue.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigqueue</span>(2)</span></a>, <a class="link" href="../htmlman2/sigsuspend.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigsuspend</span>(2)</span></a>, <a class="link" href="../htmlman2/wait.2.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">wait</span>(2)</span></a>, <a class="link" href="../htmlman3/raise.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">raise</span>(3)</span></a>, <a class="link" href="../htmlman3/siginterrupt.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">siginterrupt</span>(3)</span></a>, <a class="link" href="../htmlman3/sigsetops.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigsetops</span>(3)</span></a>, <a class="link" href="../htmlman3/sigvec.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">sigvec</span>(3)</span></a>, <a class="link" href="../htmlman5/core.5.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">core</span>(5)</span></a>, <a class="link" href="../htmlman7/signal.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">signal</span>(7)</span></a></p>
    </div>

    <div class="colophon" title="COLOPHON">
      <a id="sigaction-2_sect10" name="sigaction-2_sect10" shape="rect"> </a>

      <h2>COLOPHON</h2>

      <p>This page is part of release 3.29 of the Linux <em class="replaceable"><code>man-pages</code></em> project. A
      description of the project, and information about reporting
      bugs, can be found at
      http://www.kernel.org/doc/man-pages/.</p>

      <div class="license">
        <table style="border-collapse: collapse;">
          <colgroup span="1">
            <col span="1" />
          </colgroup>

          <tbody>
            <tr>
              <td style="" rowspan="1" colspan="1">
                <div class="literallayout">
                  <br />
                    t<br />
                  Copyright (c) 1994,1995 Mike Battersby &lt;mib<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>deakin.edu.au&gt;<br />

                  and Copyright 2004, 2005 Michael Kerrisk &lt;mtk.manpages<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>gmail.com&gt;<br />

                  based on work by faith<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>cs.unc.edu<br />

                  <br />
                  Permission is granted to make and distribute verbatim copies of this<br />

                  manual provided the copyright notice and this permission notice are<br />

                  preserved on all copies.<br />
                  <br />
                  Permission is granted to copy and distribute modified versions of this<br />

                  manual under the conditions for verbatim copying, provided that the<br />

                  entire resulting derived work is distributed under the terms of a<br />

                  permission notice identical to this one.<br />

                  <br />
                  Since the Linux kernel and libraries are constantly changing, this<br />

                  manual page may be incorrect or out-of-date.  The author(s) assume no<br />

                  responsibility for errors or omissions, or for damages resulting from<br />

                  the use of the information contained herein.  The author(s) may not<br />

                  have taken the same level of care in the production of this manual,<br />

                  which is licensed free of charge, as they might when working<br />

                  professionally.<br />
                  <br />
                  Formatted or processed versions of this manual, if unaccompanied by<br />

                  the source, must acknowledge the copyright and authors of this work.<br />

                  <br />
                  Modified, aeb, 960424<br />
                  Modified Fri Jan 31 17:31:20 1997 by Eric S. Raymond &lt;esr<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>thyrsus.com&gt;<br />

                  Modified Thu Nov 26 02:12:45 1998 by aeb - add SIGCHLD stuff.<br />

                  Modified Sat May  8 17:40:19 1999 by Matthew Wilcox<br />

                  add POSIX.1b signals<br />
                  Modified Sat Dec 29 01:44:52 2001 by Evan Jones &lt;ejones<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>uwaterloo.ca&gt;<br />

                  SA_ONSTACK<br />
                  Modified 2004-11-11 by Michael Kerrisk &lt;mtk.manpages<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>gmail.com&gt;<br />

                  Added mention of SIGCONT under SA_NOCLDSTOP<br />

                  Added SA_NOCLDWAIT<br />
                  Modified 2004-11-17 by Michael Kerrisk &lt;mtk.manpages<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>gmail.com&gt;<br />

                  Updated discussion for POSIX.1-2001 and SIGCHLD and sa_flags.<br />

                  Formatting fixes<br />
                  2004-12-09, mtk, added SI_TKILL + other minor changes<br />

                  2005-09-15, mtk, split sigpending(), sigprocmask(), sigsuspend()<br />

                  out of this page into separate pages.<br />

                  2010-06-11 Andi Kleen, add hwpoison signal extensions<br />

                  2010-06-11 mtk, improvements to discussion of various siginfo_t fields.<br />
                  
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</body>
</html>
