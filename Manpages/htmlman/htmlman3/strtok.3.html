<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

  <title>strtok(3) — Linux manual pages</title>
  <link rel="stylesheet" href="../stylesheet/manpages.css" type="text/css" />
  
  <link rel="home" href="../index.html" title="strtok(3) — Linux manual pages" />
  <script type="text/javascript" src="../stylesheet/manpages.js" xml:space="preserve">
</script>
  <link rel="icon" href="../stylesheet/icon.gif" type="image/gif" />
</head>

<body onload="javascript:init()">
  

  <div class="refentry" title="strtok(3) — Linux manual pages">
    <a id="strtok.3" name="strtok.3" shape="rect"> </a>

    <div class="titlepage"> </div>

    <div class="refnamediv">
      <h2>Name</h2>

      <p>strtok, strtok_r — extract tokens from strings</p>
    </div>

    <div class="refsynopsisdiv" title="Synopsis">
      <h2>Synopsis</h2>

      <div class="funcsynopsis">
        <pre class="funcsynopsisinfo" xml:space="preserve">
#include &lt;string.h&gt;
</pre>

        <table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">char *<b class="fsfunc">strtok</b>(</code></td>

            <td rowspan="1" colspan="1">char *<var class="pdparam">str</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">delim</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">char *<b class="fsfunc">strtok_r</b>(</code></td>

            <td rowspan="1" colspan="1">char *<var class="pdparam">str</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">const char *<var class="pdparam">delim</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">char **<var class="pdparam">saveptr</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;">
        <table border="0" summary="Note">
          <tr>
            <td rowspan="2" align="center" valign="top" width="25" colspan="1">
            <img alt="[Note]" src="../stylesheet/note.png" /></td>

            <th align="left" rowspan="1" colspan="1">Note</th>
          </tr>

          <tr>
            <td align="left" valign="top" rowspan="1" colspan="1">
              <div class="featuretests">
                <table style="border-collapse: collapse;">
                  <colgroup span="1">
                    <col span="1" />
                  </colgroup>

                  <thead>
                    <tr>
                      <th style="" rowspan="1" colspan="1">Feature Test Macro Requirements
                      for glibc (see <a class="link" href="../htmlman7/feature_test_macros.7.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">feature_test_macros</span>(7)</span></a>):</th>
                    </tr>
                  </thead>

                  <tbody>
                    <tr>
                      <td style="" rowspan="1" colspan="1"><code class="function">strtok_r</code>():</td>
                    </tr>

                    <tr>
                      <td class="featuretestdef" style="" rowspan="1" colspan="1">
                      <code class="constant">_SVID_SOURCE</code> ||
                      <code class="constant">_BSD_SOURCE</code> ||
                      <code class="constant">_POSIX_C_SOURCE</code>
                      &gt;= 1 || <code class="constant">_XOPEN_SOURCE</code> ||
                      <code class="constant">_POSIX_SOURCE</code></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </td>
          </tr>
        </table>
      </div>
    </div>

    <div class="refsect1" title="DESCRIPTION">
      <a id="strtok-3_sect1" name="strtok-3_sect1" shape="rect"> </a>

      <h2>DESCRIPTION</h2>

      <p>The <code class="function">strtok</code>() function parses
      a string into a sequence of tokens. On the first call to
      <code class="function">strtok</code>() the string to be
      parsed should be specified in <em class="parameter"><code>str</code></em>. In each subsequent call
      that should parse the same string, <em class="parameter"><code>str</code></em> should be NULL.</p>

      <p>The <em class="parameter"><code>delim</code></em> argument
      specifies a set of characters that delimit the tokens in the
      parsed string. The caller may specify different strings in
      <em class="parameter"><code>delim</code></em> in successive
      calls that parse the same string.</p>

      <p>Each call to <code class="function">strtok</code>()
      returns a pointer to a null-terminated string containing the
      next token. This string does not include the delimiting
      character. If no more tokens are found, <code class="function">strtok</code>() returns NULL.</p>

      <p>A sequence of two or more contiguous delimiter characters
      in the parsed string is considered to be a single delimiter.
      Delimiter characters at the start or end of the string are
      ignored. Put another way: the tokens returned by <code class="function">strtok</code>() are always nonempty strings.</p>

      <p>The <code class="function">strtok_r</code>() function is a
      reentrant version <code class="function">strtok</code>(). The
      <em class="parameter"><code>saveptr</code></em> argument is a
      pointer to a <span class="emphasis"><em>char *</em></span>
      variable that is used internally by <code class="function">strtok_r</code>() in order to maintain context
      between successive calls that parse the same string.</p>

      <p>On the first call to <code class="function">strtok_r</code>(), <em class="parameter"><code>str</code></em> should point to the string
      to be parsed, and the value of <em class="parameter"><code>saveptr</code></em> is ignored. In
      subsequent calls, <em class="parameter"><code>str</code></em>
      should be NULL, and <em class="parameter"><code>saveptr</code></em> should be unchanged
      since the previous call.</p>

      <p>Different strings may be parsed concurrently using
      sequences of calls to <code class="function">strtok_r</code>() that specify different
      <em class="parameter"><code>saveptr</code></em>
      arguments.</p>
    </div>

    <div class="refsect1" title="RETURN VALUE">
      <a id="strtok-3_sect2" name="strtok-3_sect2" shape="rect"> </a>

      <h2>RETURN VALUE</h2>

      <p>The <code class="function">strtok</code>() and
      <code class="function">strtok_r</code>() functions return a
      pointer to the next token, or NULL if there are no more
      tokens.</p>
    </div>

    <div class="refsect1" title="CONFORMING TO">
      <a id="strtok-3_sect3" name="strtok-3_sect3" shape="rect"> </a>

      <h2>CONFORMING TO</h2>

      <div class="variablelist">
        <dl>
          <dt><span class="term"><code class="function">strtok</code>()</span></dt>

          <dd>
            <p>SVr4, POSIX.1-2001, 4.3BSD, C89, C99.</p>
          </dd>

          <dt><span class="term"><code class="function">strtok_r</code>()</span></dt>

          <dd>
            <p>POSIX.1-2001.</p>
          </dd>
        </dl>
      </div>
    </div>

    <div class="refsect1" title="BUGS">
      <a id="strtok-3_sect4" name="strtok-3_sect4" shape="rect"> </a>

      <h2>BUGS</h2>

      <p>Be cautious when using these functions. If you do use
      them, note that:</p>

      <div class="itemizedlist">
        <ul class="itemizedlist" type="disc">
          <li class="listitem">
            <p>These functions modify their first argument.</p>
          </li>

          <li class="listitem">
            <p>These functions cannot be used on constant
            strings.</p>
          </li>

          <li class="listitem">
            <p>The identity of the delimiting character is
            lost.</p>
          </li>

          <li class="listitem">
            <p>The <code class="function">strtok</code>() function
            uses a static buffer while parsing, so it's not thread
            safe. Use <code class="function">strtok_r</code>() if
            this matters to you.</p>
          </li>
        </ul>
      </div>
    </div>

    <div class="refsect1" title="EXAMPLE">
      <a id="strtok-3_sect5" name="strtok-3_sect5" shape="rect"> </a>

      <h2>EXAMPLE</h2>

      <p>The program below uses nested loops that employ
      <code class="function">strtok_r</code>() to break a string
      into a two-level hierarchy of tokens. The first command-line
      argument specifies the string to be parsed. The second
      argument specifies the delimiter character(s) to be used to
      separate that string into "major" tokens. The third argument
      specifies the delimiter character(s) to be used to separate
      the "major" tokens into subtokens.</p>

      <p>An example of the output produced by this program is the
      following:</p>

      <div class="blockquote">
        <blockquote class="blockquote">
          <div class="informalexample">
            <pre class="programlisting" xml:space="preserve">
$<span class="emphasis"><em> ./a.out 'a/bbb///cc;xxx:yyy:' ':;' '/'</em></span>
1: a/bbb///cc
         −−&gt; a
         −−&gt; bbb
         −−&gt; cc
2: xxx
         −−&gt; xxx
3: yyy
         −−&gt; yyy
</pre>
          </div>
        </blockquote>
      </div>

      <div class="refsect2" title="Program source">
        <a id="strtok-3_sect6" name="strtok-3_sect6" shape="rect"> </a>

        <h3>Program source</h3>

        <div class="informalexample">
          <pre class="programlisting" xml:space="preserve">
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

int
main(int argc, char *argv[])
{
    char *str1, *str2, *token, *subtoken;
    char *saveptr1, *saveptr2;
    int j;

    if (argc != 4) {
        fprintf(stderr, "Usage: %s string delim subdelim\n",
                argv[0]);
        exit(EXIT_FAILURE);
    }

    for (j = 1, str1 = argv[1]; ; j++, str1 = NULL) {
        token = strtok_r(str1, argv[2], &amp;saveptr1);
        if (token == NULL)
            break;
        printf("%d: %s\n", j, token);

        for (str2 = token; ; str2 = NULL) {
            subtoken = strtok_r(str2, argv[3], &amp;saveptr2);
            if (subtoken == NULL)
                break;
            printf("\t −−&gt; %s\n", subtoken);
        }
    }

    exit(EXIT_SUCCESS);
}
</pre>
        </div>

        <p>Another example program using <code class="function">strtok</code>() can be found in <a class="link" href="../htmlman3/getaddrinfo_a.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getaddrinfo_a</span>(3)</span></a>.</p>
      </div>
    </div>

    <div class="refsect1" title="SEE ALSO">
      <a id="strtok-3_sect7" name="strtok-3_sect7" shape="rect"> </a>

      <h2>SEE ALSO</h2>

      <p><a class="link" href="../htmlman3/index.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">index</span>(3)</span></a>, <a class="link" href="../htmlman3/memchr.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">memchr</span>(3)</span></a>, <a class="link" href="../htmlman3/index.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">rindex</span>(3)</span></a>, <a class="link" href="../htmlman3/strchr.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">strchr</span>(3)</span></a>, <a class="link" href="../htmlman3/string.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">string</span>(3)</span></a>, <a class="link" href="../htmlman3/strpbrk.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">strpbrk</span>(3)</span></a>, <a class="link" href="../htmlman3/strsep.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">strsep</span>(3)</span></a>, <a class="link" href="../htmlman3/strspn.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">strspn</span>(3)</span></a>, <a class="link" href="../htmlman3/strstr.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">strstr</span>(3)</span></a>, <a class="link" href="../htmlman3/wcstok.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">wcstok</span>(3)</span></a></p>
    </div>

    <div class="colophon" title="COLOPHON">
      <a id="strtok-3_sect8" name="strtok-3_sect8" shape="rect"> </a>

      <h2>COLOPHON</h2>

      <p>This page is part of release 3.28 of the Linux <em class="replaceable"><code>man-pages</code></em> project. A
      description of the project, and information about reporting
      bugs, can be found at
      http://www.kernel.org/doc/man-pages/.</p>

      <div class="license">
        <table style="border-collapse: collapse;">
          <colgroup span="1">
            <col span="1" />
          </colgroup>

          <tbody>
            <tr>
              <td style="" rowspan="1" colspan="1">
                <div class="literallayout">
                  <br />
                    Copyright (C) 1996 Andries Brouwer (aeb<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>cwi.nl)<br />

                  and Copyright (C) 2005 Michael Kerrisk (mtk.manpages<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>gmail.com)<br />

                  <br />
                  Permission is granted to make and distribute verbatim copies of this<br />

                  manual provided the copyright notice and this permission notice are<br />

                  preserved on all copies.<br />
                  <br />
                  Permission is granted to copy and distribute modified versions of this<br />

                  manual under the conditions for verbatim copying, provided that the<br />

                  entire resulting derived work is distributed under the terms of a<br />

                  permission notice identical to this one.<br />

                  <br />
                  Since the Linux kernel and libraries are constantly changing, this<br />

                  manual page may be incorrect or out-of-date.  The author(s) assume no<br />

                  responsibility for errors or omissions, or for damages resulting from<br />

                  the use of the information contained herein.  The author(s) may not<br />

                  have taken the same level of care in the production of this manual,<br />

                  which is licensed free of charge, as they might when working<br />

                  professionally.<br />
                  <br />
                  Formatted or processed versions of this manual, if unaccompanied by<br />

                  the source, must acknowledge the copyright and authors of this work.<br />

                  <br />
                  Rewritten old page, 960210, aeb<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>cwi.nl<br />

                  Updated, added strtok_r. 2000-02-13 Nicolás Lichtmaier &lt;nick<script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>debian.org&gt;<br />

                  2005-11-17, mtk: Substantial parts rewritten<br />
                  
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</body>
</html>
